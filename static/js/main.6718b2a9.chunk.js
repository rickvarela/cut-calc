(this["webpackJsonpcut-calc2"]=this["webpackJsonpcut-calc2"]||[]).push([[0],{10:function(e,t,c){e.exports={App:"App_App__3xFrb",AppMain:"App_AppMain__3Llhe",AppMenu:"App_AppMenu__2gkra",AppHeader:"App_AppHeader__GqCOk"}},11:function(e,t,c){e.exports={CutList:"CutList_CutList__3fKwK",CutListHeader:"CutList_CutListHeader__2x7uZ",CutListDisplay:"CutList_CutListDisplay__1SWaA"}},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),s=c(13),a=c.n(s),i=(c(19),c(14)),b=c(1),j=c(5),u=c(4),l=c(9),o=c(11),d=c.n(o),h=c(0),O=function(e){var t=e.cutMembers,c=e.stockMember,r=Object(n.useState)([]),s=Object(j.a)(r,2),a=s[0],i=s[1];return Object(h.jsxs)("div",{className:d.a.CutList,children:[Object(h.jsx)(m,{runCutList:function(){i(function(e,t){var c,n=e.slice(0).sort((function(e,t){return e.length>t.length?1:-1})),r=[],s=Object(l.a)(n);try{for(s.s();!(c=s.n()).done;)for(var a=c.value,i=0;i<a.qty;i++)r.unshift({index:a.index,length:a.length})}catch(p){s.e(p)}finally{s.f()}for(var j=[],o=0;o<t.qty;o++)j.push({id:Object(u.a)(),index:t.index,length:t.length,capacity:t.length,cutMembers:[]});for(var d=0,h=r;d<h.length;d++){var O,m=h[d],x=Object(l.a)(j);try{for(x.s();!(O=x.n()).done;){var f=O.value;if(m.length<=f.capacity){f.cutMembers.push(Object(b.a)(Object(b.a)({},m),{},{id:Object(u.a)()})),f.capacity-=m.length;break}}}catch(p){x.e(p)}finally{x.f()}}return j}(t,c))}}),Object(h.jsx)(x,{cutState:a},"cut-list-display")]})},m=function(e){var t=e.runCutList;return Object(h.jsxs)("div",{className:d.a.CutListHeader,children:[Object(h.jsx)("div",{children:"Cut List"}),Object(h.jsx)("button",{onClick:t,children:"CALC"})]})},x=function(e){var t=e.cutState,c=Object(n.useRef)(),r=function(e){var t=function(){return{width:e.current.offsetWidth,height:e.current.offsetHeight}},c=Object(n.useState)({width:1,height:1}),r=Object(j.a)(c,2),s=r[0],a=r[1];return Object(n.useEffect)((function(){var c=function(){a(t())};return e.current&&a(t()),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[e]),s}(c),s=r.width,a=(r.height,{STOCK_HEIGHT:5,GAP_HEIGHT:2,SCALE_FACTOR:100/s,X:5,Y:5}),i=function(e){return 5/a.SCALE_FACTOR<45?a.SCALE_FACTOR*e*9:e};return Object(h.jsx)("div",{className:d.a.CutListDisplay,ref:c,children:Object(h.jsx)("svg",{width:"100%",viewBox:"0 0 100 ".concat(a.Y+t.length*(i(5)+i(2))),children:t.map((function(e,t){return Object(h.jsx)(f,{stockMember:e,index:t,DISPLAY_PROPS:a,width:s,scaleAdjust45:i},e.id)}))})})},f=function(e){var t,c=e.stockMember,n=e.index,r=e.DISPLAY_PROPS,s=(e.width,e.scaleAdjust45),a=90/c.length,i=r.X,b=[],j=function(e){return e.length*a/r.SCALE_FACTOR>25+25*e.index.toString().length},u=Object(l.a)(c.cutMembers);try{for(u.s();!(t=u.n()).done;){var o=t.value;b.push(Object(h.jsxs)("g",{children:[j(o)&&Object(h.jsxs)("text",{x:i+.5,y:r.Y+s(4.5)+(s(5)+s(2))*n,fontSize:32*r.SCALE_FACTOR,children:["#",o.index]}),Object(h.jsx)("rect",{x:i,y:r.Y+(s(5)+s(2))*n,width:o.length*a,height:s(5),fill:"none",stroke:"#3891A6",vectorEffect:"non-scaling-stroke"})]},o.id)),i+=o.length*a}}catch(d){u.e(d)}finally{u.f()}return[Object(h.jsx)("rect",{x:"5",y:r.Y+(s(5)+s(2))*n,width:"90",height:s(5),fill:"#E0E1E1",stroke:"#CBCDCD",vectorEffect:"non-scaling-stroke"},c.id)].concat(b)},p=c(3),M=c.n(p),_=function(e){var t=e.cutMembers,c=e.actions;return Object(h.jsxs)("div",{className:M.a.MemberList,children:[Object(h.jsx)(v,{actions:c}),Object(h.jsx)("div",{className:M.a.MemberBody,children:Object(h.jsx)(C,{cutMembers:t,actions:c})})]})},v=function(e){var t=e.actions;return Object(h.jsxs)("div",{className:M.a.MemberHeader,children:[Object(h.jsx)("div",{children:"Members To Be Cut"}),Object(h.jsx)("button",{onClick:t.addCutMember,children:"ADD ROW"})]})},C=function(e){var t=e.cutMembers,c=e.actions;return Object(h.jsxs)("table",{className:M.a.MemberTable,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Length"}),Object(h.jsx)("th",{children:"Quanity"}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,t){return Object(h.jsx)(g,{cutMember:e,actions:c,index:t+1},e.id)}))})]})},g=function(e){var t=e.cutMember,c=e.actions,n=e.index;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:M.a.MemberTableID,children:n}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",step:"any",className:M.a.MemberTableItem,value:t.length,onChange:function(e){c.updateCutMembers(Object(b.a)(Object(b.a)({},t),{},{length:parseInt(e.target.value)}))}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",step:"any",className:M.a.MemberTableItem,value:t.qty,onChange:function(e){c.updateCutMembers(Object(b.a)(Object(b.a)({},t),{},{qty:parseInt(e.target.value)}))}})}),Object(h.jsx)("td",{className:M.a.MemberTableDelete,children:Object(h.jsx)("button",{className:M.a.MemberTableItem,onClick:function(){c.removeCutMember(t)},children:"DELETE"})})]})},L=c(6),k=c.n(L),S=function(e){var t=e.stockMember,c=e.actions;return Object(h.jsxs)("div",{className:k.a.StockList,children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{className:k.a.StockBody,children:Object(h.jsx)(A,{stockMember:t,actions:c})})]})},y=function(){return Object(h.jsx)("div",{className:k.a.StockHeader,children:Object(h.jsx)("div",{children:"Stock Member"})})},A=function(e){var t=e.stockMember,c=e.actions;return Object(h.jsxs)("table",{className:k.a.StockTable,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Length"}),Object(h.jsx)("th",{children:"Quanity"})]})}),Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",className:k.a.StockTableItem,value:t.length,onChange:function(e){c.updateStockMember(Object(b.a)(Object(b.a)({},t),{},{length:parseInt(e.target.value)}))}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",className:k.a.StockTableItem,value:t.qty,onChange:function(e){c.updateStockMember(Object(b.a)(Object(b.a)({},t),{},{qty:parseInt(e.target.value)}))}})})]})})]})},T=c(10),I=c.n(T),N={cutMembers:[{id:Object(u.a)(),index:1,length:12,qty:3},{id:Object(u.a)(),index:2,length:22,qty:10}],stockMember:{id:Object(u.a)(),index:1,length:90,qty:3}};var D=function(){return Object(h.jsx)("div",{className:I.a.AppHeader,children:Object(h.jsx)("h1",{children:"CUT CALC"})})},E=function(){var e=Object(n.useState)(N.cutMembers),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(N.stockMember),a=Object(j.a)(s,2),l=a[0],o=a[1],d={updateCutMembers:function(e){var t=c.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),e):Object(b.a)({},t)}));r(t)},updateStockMember:function(e){o(e)},addCutMember:function(){r([].concat(Object(i.a)(c),[{id:Object(u.a)(),index:c.length+1,length:0,qty:0}]))},removeCutMember:function(e){console.log(e);var t=c.filter((function(t){return t.id!==e.id}));t=t.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{index:t+1})})),r(t)}};return Object(h.jsxs)("div",{className:I.a.App,children:[Object(h.jsx)(D,{}),Object(h.jsxs)("div",{className:I.a.AppMain,children:[Object(h.jsxs)("div",{className:I.a.AppMenu,children:[Object(h.jsx)(_,{cutMembers:c,actions:d}),Object(h.jsx)(S,{stockMember:l,actions:d})]}),Object(h.jsx)(O,{cutMembers:c,stockMember:l})]})]})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),H()},3:function(e,t,c){e.exports={MemberList:"MemberList_MemberList__16O5o",MemberTable:"MemberList_MemberTable__1LB7i",MemberHeader:"MemberList_MemberHeader__1COe9",MemberTableItem:"MemberList_MemberTableItem__2NAC6",MemberTableDelete:"MemberList_MemberTableDelete__2GGxF",MemberTableID:"MemberList_MemberTableID__y51TE",MemberBody:"MemberList_MemberBody__2_blI"}},6:function(e,t,c){e.exports={StockList:"StockList_StockList__3e1s0",StockTable:"StockList_StockTable__2q2Yy",StockHeader:"StockList_StockHeader__1HLDl",StockTableItem:"StockList_StockTableItem__3vmq2",StockTableID:"StockList_StockTableID__ksH8Q",StockBody:"StockList_StockBody__3wJPQ"}}},[[21,1,2]]]);
//# sourceMappingURL=main.6718b2a9.chunk.js.map